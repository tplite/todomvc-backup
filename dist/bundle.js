!function(t){var e={};function n(o){if(e[o])return e[o].exports;var c=e[o]={i:o,l:!1,exports:{}};return t[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){!function(t){t.Template=function(){var t={},e={"\\":"\\\\","\n":"\\n","\r":"\\r","{{":"');cb(","}}":");cb('","{%":"');","%}":"\ncb('"};return function(n,o,c){t[n=n||""]=t[n]||new Function("_","cb","with(_){"+("%}"+n+"{%").replace(/([\\\n\r]|{{|}}|{%|%})/g,function(t){return e[t]})+"}return cb");try{return o?t[n](o,c):t[n]}catch(t){return t}}},t.StringBuffer=function(){var t=[],e=function(e){t.push(e)};return e.toString=function(){return t.join("")},e};var e=[].unshift,n=[].slice,o=Object.assign;function c(t,e,n){return t instanceof Function&&t.apply(e,n)}var i={};t.Event=function(t,e,n){if(t instanceof Event){var o=i[n];return o&&c(o[e],o,[t])}if(n=t._index)return i[n]=t,{on:function(e,o){return t[e]=o,"tplite.Event(event, "+e+", "+n+")"},off:function(){Object.keys(t).map(function(e){e>0&&delete t[e]})}}};var r=0;t.Component=function(i,a,l,s){if(!(i instanceof Function)){var u=new t.Template;i=u(i)}function d(l,s){var u=++r;function d(t){var e=n.call(arguments,1);return v.on(++r,function(n){return c(a[t],g,e.concat(n))})}function f(t){var e=n.call(arguments,1);return!a[t]||c(a[t],g,e)}function p(t){return g.state=l=o({},l,t),s&&l&&f("shouldUpdate")&&(v.off(),b(),requestAnimationFrame(function(){f("onUpdate"),m||(f("onMount"),m=!0)})),g}function b(){var e=new t.StringBuffer;return i(o({self:g},l,y),e),s?s.innerHTML=e.toString():e.toString()}function h(t){return s=t,p()}var m=!1,g={state:l,render:b,toString:b,mount:h,setState:p,trigger:f,root:s,_index:u},v=t.Event(g),y=Object.keys(a).reduce(function(t,n){return t[n]=function(){return e.call(arguments,n),d.apply(g,arguments)},t},{bind:d});return f("onInit"),h(s)}return l?d(l,s):d}}(e)},function(module,exports){module.exports=function(_,cb){with(_)cb('<li class="todo '),cb(todo.completed?"completed":""),cb(" "),cb(todo.editing?"editing":""),cb('">\n   <div class="view">\n    <input class="toggle" type="checkbox" '),cb(todo.completed?'checked="checked"':""),cb(' onclick="'),cb(toggleTodo(todo)),cb('">\n    <label ondblclick="'),cb(editTodo(todo)),cb('">'),cb(todo.title),cb('</label>\n    <button class="destroy" onclick="'),cb(removeTodo(todo)),cb('"></button>\n   </div>\n   <input name="todoeditbox" class="edit" type="text" onblur="'),cb(doneEdit(todo)),cb('" onkeyup="'),cb(editKeyUp(todo)),cb('">\n</li>\n');return cb}},function(module,exports){module.exports=function(_,cb){with(_){if(cb('<section class="todoapp">\n  <header class="header">\n    <h1>todos</h1>\n    <input class="new-todo" autofocus autocomplete="off" placeholder="What needs to be done?" onkeyup="'),cb(addTodo()),cb('">\n  </header>\n  '),todos.length){for(var todo of(cb('\n  <section class="main">\n    <input class="toggle-all" type="checkbox" '),cb(allDone?'checked="checked"':""),cb(' onclick="'),cb(toggleAll()),cb('">\n    <ul class="todo-list">\n      '),filteredTodos(todos,activeFilter)))cb("\n        "),cb(itemComponent({todo:todo,parent:self})),cb("\n      ");cb('\n    </ul>\n  </section>\n  <footer class="footer">\n    <span class="todo-count">\n      <strong>'),cb(remaining),cb("</strong> "),cb(1===remaining?"item":"items"),cb(' left\n    </span>\n    <ul class="filters">\n      <li><a class="'),cb("all"==activeFilter?"selected":""),cb('" href="#/all">All</a></li>\n      <li><a class="'),cb("active"==activeFilter?"selected":""),cb('" href="#/active">Active</a></li>\n      <li><a class="'),cb("completed"==activeFilter?"selected":""),cb('" href="#/completed">Completed</a></li>\n    </ul>\n    '),todos.length>remaining&&(cb('\n    <button class="clear-completed" onclick="'),cb(removeCompleted()),cb('">\n      Clear completed</button>\n    ')),cb("\n  </footer>\n  ")}cb('\n</section>\n<footer class="info">\n  <p>Double-click to edit a todo</p>\n  <p>Written by <a href="http://github.com/lloydzhou">Lloyd Zhou</a></p>\n  <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n</footer>\n')}return cb}},function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o);var i={fetch:function(){return JSON.parse(localStorage.getItem("todos-tplite")||"[]")},save:function(t){localStorage.setItem("todos-tplite",JSON.stringify(t))}},r=n(2),a=n.n(r),l=n(1),s=n.n(l);var u=new o.Component(s.a,{toggleTodo(t){t.completed=!t.completed,this.state.parent.setState()},editTodo(t){t.editing=!0,this.state.parent.setState()},removeTodo:function(t){var e=this.state.parent,n=e.state.todos;n.some(function(e){t===e&&n.splice(n.indexOf(e),1)}),e.setState({todos:n})},doneEdit(t,e){if(t.editing){t.editing=!1;var n=e.target.value&&e.target.value.trim();n?t.title=n:this.trigger("removeTodo",t),this.state.parent.setState()}},editKeyUp(t,e){13===e.which?this.trigger("doneEdit",t,e):27===e.which&&(e.target.value=t.title,this.trigger("doneEdit",t,e))}});window.tplite=c.a;new c.a.Component(a.a,{onMount(){var t=this;window.addEventListener("hashchange",function(){t.setState({activeFilter:location.hash.substr(2)})},!1)},shouldUpdate:function(){return this.state.remaining=this.state.todos.filter(function(t){return!t.completed}).length,this.state.allDone=0===this.state.remaining,i.save(this.state.todos),!0},addTodo:function(t){if(13===t.which){var e=t.target.value&&t.target.value.trim();if(!e)return;var n=this.state.todos;n.push({title:e,completed:!1}),this.setState({todos:n}),t.target.value=""}},toggleAll(t){var e=this.state.todos;return e.forEach(function(e){e.completed=t.target.checked}),this.setState({todos:e}),!0},removeCompleted(t){this.setState({todos:this.state.todos.filter(function(t){return!t.completed})})}},{todos:i.fetch(),remaining:0,activeFilter:location.hash.substr(2)||"all",filteredTodos:function(t,e){return t.filter(function(t){return"all"==e||("active"==e?!t.completed:t.completed)})},itemComponent:u}).mount(document.getElementById("root"))}]);